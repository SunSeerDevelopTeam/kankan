<!DOCTYPE html>
<html>

	<head>
		<meta charset="utf-8">
		<title>Hello MUI</title>
		<meta name="viewport" content="width=device-width, initial-scale=1,maximum-scale=1,user-scalable=no">
		<meta name="apple-mobile-web-app-capable" content="yes">
		<meta name="apple-mobile-web-app-status-bar-style" content="black">

		<link rel="stylesheet" href="../../../css/mui.min.css">
		<link href="../../../css/icons-extra.css" rel="stylesheet" />
		<script src="../../../js/jquery-3.2.0.min.js"></script>
		<style>
			html,
			body {
				background-color: #efeff4;
			}
		</style>
		<link rel="stylesheet" type="text/css" href="../css/feedback.css" />
		<link rel="stylesheet" href="../../../css/kankan_home.css">
	</head>

	<body class="mui-fullscreen">
		<!--页面主结构开始-->
		<div id="app" class="mui-views">
			<div class="mui-view">
				<div class="mui-navbar">
				</div>
				<div class="mui-pages">
				</div>
			</div>
		</div>
		<!--页面主结构结束-->
		<!--单页面开始-->
		<div id="setting" class="mui-page">
			<!--页面标题栏开始-->
			<div class="mui-navbar-inner mui-bar mui-bar-nav">
				<button type="button" class="mui-left mui-action-back mui-btn  mui-btn-link mui-btn-nav mui-pull-left">
					<span class="mui-icon mui-icon-left-nav"></span>
				</button>
				<h1 class="mui-center mui-title">张三</h1>
			</div>
			<!--页面标题栏结束-->
			<!--页面主内容区开始-->
			<div class="mui-page-content">
				<div class="mui-scroll-wrapper">
					<div class="mui-scroll">
						<ul class="mui-table-view">
							<li class="mui-table-view-cell headimgbox">
								<div><img src="../../../images/muwu.jpg" width="100" height="100"></div>
								<div class="mui-pull-caption">
									<button type="button" class="mui-btn mui-btn-grey mui-btn-block editebutton">编辑</button>
								</div>
							</li>
						</ul>
						<div class="mui-slider-group">
							<ul class="mui-table-view mui-grid-view mui-table-view-chevron">
								<li class="mui-table-view-cell mui-media mui-col-xs-6">
									<div>
										<span class="mui-icon-extra mui-icon-extra-gold"></span>
										<font color="#AAAAAA" size="2">
											<font color="red"><b id="points">20</b></font>
										</font>
									</div>
								</li>
								<li class="mui-table-view-cell mui-media mui-col-xs-6">
									<a href="#area">
										<font color="#AAAAAA" size="2">
											<span class="mui-icon mui-icon-paperplane"><font size="3">东京都</font></span>
										</font>
									</a>
								</li>
							</ul>
							<div>
								<ul class="mui-table-view mui-grid-view">
									<li class="mui-table-view-cell mui-media mui-col-xs-6">
										<div class="mui-pull-right">
											<button type="button" class="mui-btn mui-btn-blue productbutton" onclick="switchs(this)" id="Produced">出品商品</button>
										</div>
									</li>
									<li class="mui-table-view-cell mui-media mui-col-xs-6">
										<div class="mui-pull-left">
											<button type="button" class="mui-btn mui-btn-grey productbutton" onclick="switchs(this)" id="goods">点赞商品</button>
										</div>
									</li>
								</ul>
								<!--Produced products--->
								<ul class="mui-table-view mui-grid-view" id="Producedproducts">
									<li class="mui-table-view-cell mui-media mui-col-xs-4 detail">
										<a id="1" href="../products/detail.html?targetid=1">
											<img class="mui-media-object ka_imgoption" src="../../../images/MacPro.jpg">
										</a>
									</li>
									<li class="mui-table-view-cell mui-media mui-col-xs-4 detail">
										<a id="1" href="../products/detail.html?targetid=1">
											<img class="mui-media-object ka_imgoption" src="../../../images/MacPro.jpg">
										</a>
									</li>
									<li class="mui-table-view-cell mui-media mui-col-xs-4 detail">
										<a id="1" href="../products/detail.html?targetid=1">
											<img class="mui-media-object ka_imgoption" src="../../../images/MacPro.jpg">
										</a>
									</li>
									<li class="mui-table-view-cell mui-media mui-col-xs-4 detail">
										<a id="1" href="../products/detail.html?targetid=1">
											<img class="mui-media-object ka_imgoption" src="../../../images/MacPro.jpg">
										</a>
									</li>
								</ul>
								<!--goods products--->
								<ul class="mui-table-view mui-grid-view" id="goodsproducts" style="display: none;">
									<li class="mui-table-view-cell mui-media mui-col-xs-4 detail">
										<a id="2" href="../products/detail.html?targetid=1">
											<img class="mui-media-object ka_imgoption" src="../../../images/muwu.jpg">
										</a>
									</li>
									<li class="mui-table-view-cell mui-media mui-col-xs-4 detail">
										<a id="2" href="../products/detail.html?targetid=2">
											<img class="mui-media-object ka_imgoption" src="../../../images/muwu.jpg">
										</a>
									</li>
									<li class="mui-table-view-cell mui-media mui-col-xs-4 detail">
										<a id="2" href="../products/detail.html?targetid=2">
											<img class="mui-media-object ka_imgoption" src="../../../images/muwu.jpg">
										</a>
									</li>
									<li class="mui-table-view-cell mui-media mui-col-xs-4 detail">
										<a id="2" href="../products/detail.html?targetid=2">
											<img class="mui-media-object ka_imgoption" src="../../../images/muwu.jpg">
										</a>
									</li>
								</ul>
							</div>
						</div>

					</div>
				</div>
			</div>
			<!--页面主内容区结束-->
		</div>
		<!--单页面结束-->
		<div id="area" class="mui-page">
			<div class="mui-navbar-inner mui-bar mui-bar-nav">
				<button type="button" class="mui-left mui-action-back mui-btn  mui-btn-link mui-btn-nav mui-pull-left">
					<span class="mui-icon mui-icon-left-nav"></span>
				</button>
				<h1 class="mui-center mui-title">地址设置</h1>
			</div>
			<div class="mui-page-content">
				<div class="mui-scroll-wrapper">
					<div class="mui-scroll">
						<ul class="mui-table-view">
							<li class="mui-table-view-cell">
								<a class="mui-navigate-right">
									东京
								</a>
							</li>
							<li class="mui-table-view-cell">
								<a class="mui-navigate-right">
									大阪
								</a>
							</li>
							<li class="mui-table-view-cell">
								<a class="mui-navigate-right">
									北海道
								</a>
							</li>
						</ul>

					</div>
				</div>
			</div>
		</div>
	</body>
	<script src="../../../js/mui.min.js"></script>
	<script src="../../../js/mui.view.js "></script>
	<script src='../../../js/feedback.js'></script>
	<script>
		mui.init();
		//初始化单页view
		var viewApi = mui('#app').view({
			defaultPage: '#setting'
		});
		//初始化单页的区域滚动
		mui('.mui-scroll-wrapper').scroll();
		var view = viewApi.view;
		(function($) {
			//处理view的后退与webview后退
			var oldBack = $.back;
			$.back = function() {
				if(viewApi.canBack()) { //如果view可以后退，则执行view的后退
					viewApi.back();
				} else { //执行webview后退
					oldBack();
				}
			};
			//监听页面切换事件方案1,通过view元素监听所有页面切换事件，目前提供pageBeforeShow|pageShow|pageBeforeBack|pageBack四种事件(before事件为动画开始前触发)
			//第一个参数为事件名称，第二个参数为事件回调，其中e.detail.page为当前页面的html对象
			view.addEventListener('pageBeforeShow', function(e) {
				//				console.log(e.detail.page.id + ' beforeShow');
			});
			view.addEventListener('pageShow', function(e) {
				//				console.log(e.detail.page.id + ' show');
			});
			view.addEventListener('pageBeforeBack', function(e) {
				//				console.log(e.detail.page.id + ' beforeBack');
			});
			view.addEventListener('pageBack', function(e) {
				//				console.log(e.detail.page.id + ' back');
			});
		})(mui);
		//更换头像
		//		mui(".mui-table-view-cell").on("tap", "#head", function(e) {
		//			if(mui.os.plus){
		//				var a = [{
		//					title: "拍照"
		//				}, {
		//					title: "从手机相册选择"
		//				}];
		//				plus.nativeUI.actionSheet({
		//					title: "修改头像",
		//					cancel: "取消",
		//					buttons: a
		//				}, function(b) {
		//					switch (b.index) {
		//						case 0:
		//							break;
		//						case 1:
		//							getImage();
		//							break;
		//						case 2:
		//							galleryImg();
		//							break;
		//						default:
		//							break
		//					}
		//				})	
		//			}
		//			
		//		});
		//
		//		function getImage() {
		//			var c = plus.camera.getCamera();
		//			c.captureImage(function(e) {
		//				plus.io.resolveLocalFileSystemURL(e, function(entry) {
		//					var s = entry.toLocalURL() + "?version=" + new Date().getTime();
		//					console.log(s);
		//					document.getElementById("head-img").src = s;
		//					document.getElementById("head-img1").src = s;
		//					//变更大图预览的src
		//					//目前仅有一张图片，暂时如此处理，后续需要通过标准组件实现
		//					document.querySelector("#__mui-imageview__group .mui-slider-item img").src = s + "?version=" + new Date().getTime();;;
		//				}, function(e) {
		//					console.log("读取拍照文件错误：" + e.message);
		//				});
		//			}, function(s) {
		//				console.log("error" + s);
		//			}, {
		//				filename: "_doc/head.jpg"
		//			})
		//		}
		//
		//		function galleryImg() {
		//			plus.gallery.pick(function(a) {
		//				plus.io.resolveLocalFileSystemURL(a, function(entry) {
		//					plus.io.resolveLocalFileSystemURL("_doc/", function(root) {
		//						root.getFile("head.jpg", {}, function(file) {
		//							//文件已存在
		//							file.remove(function() {
		//								console.log("file remove success");
		//								entry.copyTo(root, 'head.jpg', function(e) {
		//										var e = e.fullPath + "?version=" + new Date().getTime();
		//										document.getElementById("head-img").src = e;
		//										document.getElementById("head-img1").src = e;
		//										//变更大图预览的src
		//										//目前仅有一张图片，暂时如此处理，后续需要通过标准组件实现
		//										document.querySelector("#__mui-imageview__group .mui-slider-item img").src = e + "?version=" + new Date().getTime();;
		//									},
		//									function(e) {
		//										console.log('copy image fail:' + e.message);
		//									});
		//							}, function() {
		//								console.log("delete image fail:" + e.message);
		//							});
		//						}, function() {
		//							//文件不存在
		//							entry.copyTo(root, 'head.jpg', function(e) {
		//									var path = e.fullPath + "?version=" + new Date().getTime();
		//									document.getElementById("head-img").src = path;
		//									document.getElementById("head-img1").src = path;
		//									//变更大图预览的src
		//									//目前仅有一张图片，暂时如此处理，后续需要通过标准组件实现
		//									document.querySelector("#__mui-imageview__group .mui-slider-item img").src = path;
		//								},
		//								function(e) {
		//									console.log('copy image fail:' + e.message);
		//								});
		//						});
		//					}, function(e) {
		//						console.log("get _www folder fail");
		//					})
		//				}, function(e) {
		//					console.log("读取拍照文件错误：" + e.message);
		//				});
		//			}, function(a) {}, {
		//				filter: "image"
		//			})
		//		};
		//
		//		function defaultImg() {
		//			if(mui.os.plus){
		//				plus.io.resolveLocalFileSystemURL("_doc/head.jpg", function(entry) {
		//					var s = entry.fullPath + "?version=" + new Date().getTime();;
		//					document.getElementById("head-img").src = s;
		//					document.getElementById("head-img1").src = s;
		//				}, function(e) {
		//					document.getElementById("head-img").src = '../images/logo.png';
		//					document.getElementById("head-img1").src = '../images/logo.png';
		//				})
		//			}else{
		//				document.getElementById("head-img").src = '../images/logo.png';
		//				document.getElementById("head-img1").src = '../images/logo.png';
		//			}
		//			
		//		}
		//		
		//		document.getElementById("head-img1").addEventListener('tap', function(e) {
		//			e.stopPropagation();
		//		});
		//		//Set the page
		//		document.getElementById('setting').addEventListener('tap',function(){
		//			//Open about the page
		//		  mui.openWindow({
		//		    url: '../../setting/setting.html',
		//		    id:'setting',
		//		  });
		//		});
		//Commodity switch
		function switchs(e) {
			if(e.id == "goods") {
				$("#Producedproducts").hide();
				$("#goodsproducts").show();
				$("#goods").removeClass("mui-btn-grey");
				$("#goods").addClass("mui-btn-blue");
				$("#Produced").removeClass("mui-btn-blue");
				$("#Produced").addClass("mui-btn-grey");
			} else {
				$("#Producedproducts").show();
				$("#goodsproducts").hide();
				$("#Produced").removeClass("mui-btn-grey");
				$("#Produced").addClass("mui-btn-blue");
				$("#goods").removeClass("mui-btn-blue");
				$("#goods").addClass("mui-btn-grey");
			}
		}
	</script>

</html>