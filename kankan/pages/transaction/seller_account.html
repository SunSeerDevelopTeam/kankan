<!DOCTYPE html>
<html>
    <head>
		<meta charset="utf-8">
		<title>product_login</title>
		<meta name="viewport" content="width=device-width, initial-scale=1,maximum-scale=1,user-scalable=no">
		<meta name="apple-mobile-web-app-capable" content="yes">
		<meta name="apple-mobile-web-app-status-bar-style" content="black">
		<link rel="stylesheet" href="../../css/mui.min.css" />
		<link rel="stylesheet" href="../../css/kankan_home.css" />
		<link rel="stylesheet" href="../../css/public.css" type="text/css"/>
		<link rel="stylesheet" href="../../css/mobileSelect.css" type="text/css"/>
	</head>

	<body>
		<header class="mui-bar mui-bar-nav">
			<a class="mui-action-back mui-icon mui-icon-left-nav mui-pull-left" style="display: none;"></a>
			<h1 class="mui-center mui-title lang" data-locale="designated_account"></h1>
		</header>
		<div class="mui-content" style="font-size: 15px;">
			<form action="" method="post" name="" id="">
				<!--bank-->
				<div class="seller_bank">
					<div class="mui-pull-left lang" style="margin-left: 1em;" data-locale="bank"></div>
					<div id="branchResults" class="mui-pull-right lang mui-col-xs-4" data-locale="selectbank" style="margin-right: 0.5em;"></div>
					<input type="hidden" name="branchSelect" id="branchSelect" value="" />
				</div>
				<!--account type-->
				<div class="tradeFees" style="margin-top: 2em;">
					<ul class="mui-table-view ka_prologbox">
						<li class="mui-table-view-cell" style="display: -webkit-box;">
						    <div class="mui-col-xs-9 mui-pull-left lang" data-locale="account_type"></div>
						    <div id="accountResults" class="lang" data-locale="selecttype" style="margin-right: 0.5em;"></div>
					        <input type="hidden" name="accountSelect" id="accountSelect" value="" />
						</li>
						<li class="mui-table-view-cell" style="display: -webkit-box;">
						    <div style="width: 100%;">
					        	<span class="lang" data-locale="branch_number"></span>
					        	<input type="number" id="branch_number" onchange="getBranchNumber()" onKeypress="return (/[\d]/.test(String.fromCharCode(event.keyCode)))" style="width: 30%; height: auto; padding: 0; ime-mode:Disabled;" class="mui-pull-right" placeholder="分店号"/>
					        </div>
						</li>
					</ul>
				</div>
				<!--account personal information-->
				<div class="tradeFees" style="margin-top: 2em;">
					<ul class="mui-table-view ka_prologbox">
						<!--<li class="mui-table-view-cell">
						    <span class="lang mui-col-xs-9" data-locale="account_number"></span>
						    <span class="mui-col-xs-3 mui-pull-right" style="color: #000000;">银联</span>
						</li>
						<li class="mui-table-view-cell">
						    <span class="lang mui-col-xs-9" data-locale="name_front"></span>
						    <span class="mui-col-xs-3 mui-pull-right" style="color: #000000;">银联</span>
						</li>
						<li class="mui-table-view-cell">
						    <span class="lang mui-col-xs-9" data-locale="name_behind"></span>
						    <span class="mui-col-xs-3 mui-pull-right" style="color: #000000;">银联</span>
						</li>-->
						<li class="mui-table-view-cell" style="display: -webkit-box;">
						    <div style="width: 100%;">
					        	<span class="lang" data-locale="account_number"></span>
					        	<input type="number" id="card_number" onchange="getCardNumber()" onKeypress="return (/[\d]/.test(String.fromCharCode(event.keyCode)))" style="width: 30%; height: auto; padding: 0;ime-mode:Disabled;" class="mui-pull-right" maxlength="7" placeholder="限7位数字"/>
					        </div>
						</li>
						<li class="mui-table-view-cell" style="display: -webkit-box;">
						    <div style="width: 100%;">
					        	<span class="lang" data-locale="name_front"></span>
					        	<input type="text" style="width: 30%; height: auto; padding: 0;" class="mui-pull-right" maxlength="7" placeholder="姓"/>
					        </div>
						</li>
						<li class="mui-table-view-cell" style="display: -webkit-box;">
						    <div style="width: 100%;">
					        	<span class="lang" data-locale="name_behind"></span>
					        	<input type="text" style="width: 30%; height: auto; padding: 0;" class="mui-pull-right" maxlength="7" placeholder="名"/>
					        </div>
						</li>
					</ul>
				</div>
				
				<div class="lang accountDesc" data-locale="account_descriptionOne"></div>
				<div class="lang" style="margin-left: 1em;" data-locale="account_descriptionTwo"></div>
				<div class="ka_userbox">
					<button type="button" class="mui-btn mui-btn-red ka_prologsure lang" data-locale="next" style="margin-top: 1em;" onclick="" id=""></button>
				</div>
			</form>
		</div>
	</body>
	<script src="../../js/mui.min.js" ></script>
	<script src="../../js/mui.view.js "></script>
	<script src="../../js/common.js"></script>
	<script src="../../js/jquery-3.2.0.min.js"></script>
	<script src="../../js/language.js"></script>
	<script src="../../js/sha256.js"></script>
	<script src="../../js/pro_uploadimg.js"></script>
	<script src="../../js/mobileSelect.js" type="text/javascript"></script>
	<script>
		mui.init({
			
		});
		var branchListData;
		var accountListData;
		var stautesposition='0';
	    var branchData = [{data:[{
						id: '0',
						value: "兴业银行"
					}, {
						id: '1',
						value: "交通银行"
					}, {
						id: '2',
						value: "招商银行"
					}, {
						id: '3',
						value: "建设银行"
					}]}];
	    var accountData = [{data:[{
						id: '0',
						value: "兴业银行"
					}, {
						id: '1',
						value: "交通银行"
					}, {
						id: '2',
						value: "招商银行"
					}, {
						id: '3',
						value: "建设银行"
					}]}];
		mui.plusReady(function() {
			$(".mui-content").css("height",document.body.scrollHeight);
			branchListData= new MobileSelect({
			    trigger: '#branchResults',
			    title: '',
			    wheels: branchData, 
			    position:'0',
			    transitionEnd:function(indexArr, data){
			    	if(indexArr=="NAN"){
			    		indexArr=stautesposition;
			    	}
			        console.log(indexArr);
			    },
			    callback:function(indexArr, data){
			        console.log(data[0].id);
			        $("#branchSelect").val(data[0].id);
			        $("#branchResults").text(data[0].value);
			        $("#branchResults").removeClass("ka_bitian");
			        $("#branchResults").addClass("ka_sortname");					       
			    }  
			});
			
			accountListData= new MobileSelect({
			    trigger: '#accountResults',
			    title: '',
			    wheels: branchData, 
			    position:'0',
			    transitionEnd:function(indexArr, data){
			    	if(indexArr=="NAN"){
			    		indexArr=stautesposition;
			    	}
			        console.log(indexArr);
			    },
			    callback:function(indexArr, data){
			        console.log(data[0].id);
			        $("#accountSelect").val(data[0].id);
			        $("#accountResults").text(data[0].value);
			        $("#accountResults").removeClass("ka_bitian");
			        $("#accountResults").addClass("ka_sortname");					       
			    }  
			});
		});
		
		function getBranchNumber() {
			var branch_number = $("#branch_number").val();
			if (branch_number.length > 3) {
				mui.toast(TextMessage.branchnumberRangeText, {
					duration: 'long',
					type: 'div'
			    });
		    }
		}
		//num表示输入的数字，n表示要显示的几位数
		function PrefixInteger(num, n) {
            return (Array(n).join(0) + num).slice(-n);
        }

		function getCardNumber() {
			var branch_number = $("#card_number").val();
			if (branch_number.length > 0 && branch_number.length < 7) {
                var x = PrefixInteger(branch_number, 7);
				$("#card_number").val(x);
			}
			if (branch_number.length > 7) {
				mui.toast(TextMessage.cardnumberRangeText, {
					duration: 'long',
					type: 'div'
			    });
		    }
		}
	</script>
</html>